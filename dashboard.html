<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CivicConnect - User Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .hero-bg {
      background-image: url('back.jpg');
      background-size: cover;
      background-position: center;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .btn-primary {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    @keyframes statsFadeIn {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-stats {
      animation: statsFadeIn 0.6s ease-out forwards;
    }
    .animate-delay-100 { animation-delay: 0.3s; }
    .animate-delay-200 { animation-delay: 0.4s; }
    .animate-delay-300 { animation-delay: 0.5s; }
    .transform.transition:hover {
      transform: scale(1.05) translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background-color: white;
      width: 200px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 0 0 10px 10px;
      z-index: 50;
      animation: slideIn 0.3s ease-out;
    }
    .mobile-menu.active {
      display: block;
    }
    .mobile-menu a {
      display: block;
      padding: 10px 15px;
      color: #1e40af;
      text-decoration: none;
      font-weight: medium;
      transition: background-color 0.3s;
    }
    .mobile-menu a:hover {
      background-color: #f1f5f9;
    }
    @keyframes slideIn {
      from { transform: translateY(-10px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @media (max-width: 767px) {
      .mobile-menu {
        display: none;
      }
      .mobile-menu.active {
        display: block;
      }
      nav.hidden {
        display: none;
      }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header -->
  <header class="bg-white shadow-lg sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
      <div class="flex items-center">
        <h1 class="text-2xl font-bold text-blue-700 flex items-center">üèõÔ∏è CivicConnect</h1>
        <span class="ml-4 text-lg font-semibold text-gray-800">Welcome, <span id="userName">User</span></span>
      </div>
      <nav class="hidden md:flex space-x-6">
        <a href="#my-reports" class="text-blue-600 hover:text-blue-800 font-medium transition">My Reports</a>
        <a href="#profile" class="text-blue-600 hover:text-blue-800 font-medium transition">Profile</a>
        <a href="#" id="logoutBtn" class="bg-red-600 text-white py-2 px-4 rounded-full hover:bg-red-700 transition btn-primary">Logout</a>
      </nav>
      <div class="md:hidden">
        <button id="menu-toggle" class="text-blue-700">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <div id="mobile-menu" class="mobile-menu">
          <a href="#my-reports">My Reports</a>
          <a href="#profile">Profile</a>
          <a href="#" id="mobileLogoutBtn" class="bg-red-600 text-white py-2 px-4 rounded-full hover:bg-red-700 transition block text-center mt-2">Logout</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero-bg bg-cover bg-center text-white py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center rounded-lg">
      <div class="inline-block bg-black/30 backdrop-blur-md p-6 rounded-lg">
        <h2 class="text-4xl md:text-5xl font-extrabold mb-4 animate-stats">Your Dashboard</h2>
        <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto">
          Track your reported issues, update your profile, and contribute to a better community.
        </p>
        <a href="#my-reports" class="inline-block bg-white text-blue-700 font-semibold py-3 px-8 rounded-full btn-primary shadow-lg">View My Reports</a>
      </div>
    </div>
  </section>

  <!-- My Reports Section -->
  <section id="my-reports" class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h3 class="text-3xl font-semibold text-gray-800 mb-8 text-center">My Reported Issues</h3>
      <div id="reports-list" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <!-- Sample Report Card (Dynamically populated) -->
        <div class="bg-gray-50 p-6 rounded-xl shadow-md transform transition hover:scale-105 animate-stats animate-delay-100">
          <h4 class="font-bold text-lg text-blue-700">Pothole on Main Street</h4>
          <p class="text-sm text-gray-600 mt-2">Type: Pothole</p>
          <p class="text-sm text-gray-600">Status: <span class="text-blue-600">In Progress</span></p>
          <p class="text-sm text-gray-600">Reported: 2025-09-10</p>
          <button class="mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg btn-primary">View Details</button>
        </div>
        <!-- More report cards will be added here dynamically -->
      </div>
    </div>
  </section>

  <!-- Profile Section -->
  <section id="profile" class="py-16 bg-gray-50">
    <div class="max-w-lg mx-auto px-4">
      <h3 class="text-3xl font-semibold text-gray-800 mb-8 text-center">User Profile</h3>
      <form id="profileForm" class="space-y-6 bg-white p-6 rounded-xl shadow-md">
        <div>
          <label for="fullName" class="block text-sm font-medium text-gray-700">Full Name</label>
          <input type="text" id="fullName" class="form-input mt-1 block w-full p-3 border border-gray-300 rounded-lg" placeholder="Enter your full name" value="User Name">
        </div>
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
          <input type="email" id="email" class="form-input mt-1 block w-full p-3 border border-gray-300 rounded-lg" placeholder="Enter your email" value="user@example.com">
        </div>
        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700">Phone (Optional)</label>
          <input type="tel" id="phone" class="form-input mt-1 block w-full p-3 border border-gray-300 rounded-lg" placeholder="Enter your phone number">
        </div>
        <div>
          <button type="submit" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg btn-primary">Update Profile</button>
        </div>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-10 text-center">
    <h3 class="text-2xl font-bold mb-4">Keep Making a Difference</h3>
    <p class="mb-6">Continue reporting issues and improving your community with CivicConnect.</p>
    <a href="#report" class="inline-block bg-blue-600 text-white py-3 px-8 rounded-full btn-primary">üöÄ Report New Issue</a>
    <p class="mt-6 text-sm">&copy; 2025 CivicConnect. All rights reserved.</p>
  </footer>

  <script>
    // Initialize user data (mock for demo purposes)
    let user = {
      name: "User Name",
      email: "user@example.com",
      phone: "",
      reports: [
        {
          id: 1,
          title: "Pothole on Main Street",
          type: "Pothole",
          status: "In Progress",
          date: "2025-09-10"
        }
      ]
    };

    // Display user name
    function displayUserName() {
      document.getElementById('userName').textContent = user.name;
      document.getElementById('fullName').value = user.name;
      document.getElementById('email').value = user.email;
      document.getElementById('phone').value = user.phone || "";
    }

    // Display user reports
    function displayReports() {
      const reportsList = document.getElementById('reports-list');
      reportsList.innerHTML = "";
      user.reports.forEach((report, index) => {
        const reportCard = `
          <div class="bg-gray-50 p-6 rounded-xl shadow-md transform transition hover:scale-105 animate-stats animate-delay-${100 * (index + 1)}">
            <h4 class="font-bold text-lg text-blue-700">${report.title}</h4>
            <p class="text-sm text-gray-600 mt-2">Type: ${report.type}</p>
            <p class="text-sm text-gray-600">Status: <span class="text-blue-600">${report.status}</span></p>
            <p class="text-sm text-gray-600">Reported: ${report.date}</p>
            <button class="mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg btn-primary" onclick="viewReportDetails(${report.id})">View Details</button>
          </div>
        `;
        reportsList.innerHTML += reportCard;
      });
    }

    // View report details (placeholder function)
    function viewReportDetails(reportId) {
      alert(`Viewing details for report ID: ${reportId}`);
      // In a real app, this could open a modal or redirect to a details page
    }

    // Handle logout
    function setupLogout() {
      const logoutBtn = document.getElementById('logoutBtn');
      const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');
      const logoutHandler = () => {
        alert("Logged out successfully!");
        window.location.href = "login.html"; // Redirect to login page
      };
      logoutBtn.addEventListener('click', logoutHandler);
      mobileLogoutBtn.addEventListener('click', logoutHandler);
    }

    // Handle profile form submission
    function setupProfileForm() {
      const profileForm = document.getElementById('profileForm');
      profileForm.addEventListener('submit', (e) => {
        e.preventDefault();
        user.name = document.getElementById('fullName').value;
        user.email = document.getElementById('email').value;
        user.phone = document.getElementById('phone').value;
        displayUserName();
        showNotification("Profile updated successfully!", "success");
      });
    }

    // Show notification
    function showNotification(message, type) {
      const existingNotification = document.querySelector('.fixed-notification');
      if (existingNotification) {
        existingNotification.remove();
      }
      const notification = document.createElement('div');
      notification.className = `fixed-notification fixed top-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 ${
        type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
      }`;
      notification.textContent = message;
      document.body.appendChild(notification);
      setTimeout(() => {
        notification.remove();
      }, 5000);
    }

    // Mobile menu toggle
    function setupMobileMenu() {
      const menuToggle = document.getElementById('menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
      });
    }

    // Initialize everything when the page loads
    document.addEventListener('DOMContentLoaded', () => {
      displayUserName();
      displayReports();
      setupLogout();
      setupProfileForm();
      setupMobileMenu();

      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    });
  </script>
</body>
</html>